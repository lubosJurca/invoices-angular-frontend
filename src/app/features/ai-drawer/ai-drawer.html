<p-drawer
  [(visible)]="visible"
  header="AI Assistent"
  position="right"
  styleClass="!w-full md:!w-2/3 lg:!w-[40rem]"
>
  <p class="text-sm text-gray-400 mb-4">
    Your AI assistant is here to help you with any questions you have. Just type
    your question below and let the AI do the rest!
  </p>
  <p-floatlabel variant="on">
    <textarea
      pTextarea
      id="over_label"
      [(ngModel)]="inputText"
      minlength="5"
      rows="5"
      cols="30"
      maxlength="150"
      style="resize: none"
      class="h-full w-full space-y"
    ></textarea>
    <label for="on_label">Your Question</label>
  </p-floatlabel>

  <p-button
    styleClass="w-full mt-2 mb-4 "
    [disabled]="inputText.length < 5 || (isLoading | async)"
    (onClick)="submitQuestion()"
  >
    @if (isLoading | async) {
    <p-progress-spinner ariaLabel="loading" class="h-8"></p-progress-spinner>
    } @else { Send }
  </p-button>

  @if(outputText$ | async) {
  <p class="border-t-2 pt-2 italic">{{(outputText$ | async)}}</p>
  }
</p-drawer>
<p-button (click)="visible = true" styleClass="w-full"
  ><span class="material-icons-outlined"> help_center </span
  ><span class="font-bold">Assistant</span></p-button
>
