<div class="md:hidden p-4">
  @if(paginatedCards$ | async; as cards) { @if(cards.length > 0) {
  <div class="space-y-4">
    @for(card of cards; track card._id) {
    <div
      (click)="navigateToDetail(card._id!)"
      class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-4 border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-shadow cursor-pointer"
    >
      <!-- Name and Status Row -->
      <div class="flex justify-between items-start mb-3">
        <h3 class="text-lg font-semibold text-gray-800 dark:text-gray-200">
          {{card.clientName}}
        </h3>
        <p-tag [value]="card.status" [severity]="getSeverity(card.status)" />
      </div>

      <!-- Due Date Row -->
      <div
        class="flex items-center gap-2 mb-2 text-sm text-gray-600 dark:text-gray-400"
      >
        <i class="pi pi-calendar text-gray-400"></i>
        <span class="font-medium">Due:</span>
        <span>{{card.dueDate | date}}</span>
      </div>

      <!-- Amount Row -->
      <div class="flex items-center gap-2 text-sm">
        <i class="pi pi-dollar text-gray-400"></i>
        <span class="font-medium text-gray-600 dark:text-gray-400"
          >Amount:</span
        >
        <span class="font-bold text-lg text-gray-800 dark:text-gray-200"
          >{{card.total | currency}}</span
        >
      </div>
    </div>
    }
    <div class="card flex justify-center">
      <p-paginator
        (onPageChange)="onPageChange($event)"
        [first]="first"
        [rows]="rows"
        [totalRecords]="(cardsData | async)?.length"
      />
    </div>
  </div>

  } @else {
  <div class="rounded-lg p-16 text-center">
    <div class="max-w-md mx-auto">
      <!-- Empty state illustration -->
      <div class="relative mb-8">
        <div
          class="w-24 h-24 bg-white rounded-2xl shadow-sm mx-auto flex items-center justify-center border-2 border-gray-100"
        >
          <i class="pi pi-file-o text-4xl text-gray-300"></i>
        </div>
        <div
          class="absolute -top-1 -right-1 w-6 h-6 bg-blue-100 rounded-full"
        ></div>
        <div
          class="absolute -bottom-2 -left-2 w-4 h-4 bg-purple-100 rounded-full"
        ></div>
      </div>

      <h3 class="text-xl font-semibold text-gray-700 mb-2">
        @if ((filterStatus | async) === 'all') { Your invoice list is empty }
        @else { No {{ (filterStatus | async) }} invoices }
      </h3>

      <p class="text-gray-500 text-sm">
        @if ((filterStatus | async) === 'all') { Invoices you create will be
        displayed here } @else { Try changing the filter to see other invoices }
      </p>
    </div>
  </div>
  } } @if(loading | async) {
  <div class="space-y-4">
    @for(skeleton of [1,2,3]; track skeleton) {
    <div
      class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-4 border border-gray-200 dark:border-gray-700 animate-pulse"
    >
      <div class="flex justify-between items-start mb-3">
        <div class="h-6 bg-gray-200 dark:bg-gray-700 rounded w-1/2"></div>
        <div class="h-6 bg-gray-200 dark:bg-gray-700 rounded w-16"></div>
      </div>
      <div class="h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4 mb-2"></div>
      <div class="h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/2"></div>
    </div>
    }
  </div>
  }
</div>
